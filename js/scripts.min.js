var contactPopupLink=document.querySelector(".open-popup-link"),contactPopup=document.querySelector(".modal-write-us"),closeContactPopup=contactPopup.querySelector(".close-modal"),contactForm=contactPopup.querySelector(".contact-form"),contactName=contactPopup.querySelector("#contact-form-name"),contactEmail=contactPopup.querySelector("#contact-form-email"),contactText=contactPopup.querySelector("#contact-form-text"),isStorageSupport=!0,storageName="",starageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}contactPopupLink.addEventListener("click",function(e){e.preventDefault(),contactPopup.classList.add("modal-show"),storageName||storageEmail?(contactName.value=storageName,contactEmail.value=storageEmail,contactText.focus()):contactName.focus()}),closeContactPopup.addEventListener("click",function(e){e.preventDefault(),contactPopup.classList.remove("modal-show"),contactPopup.classList.remove("modal-error")}),contactForm.addEventListener("submit",function(e){contactName.value&&contactEmail.value&&contactText.value?isStorageSupport&&(localStorage.setItem("name",contactName.value),localStorage.setItem("email",contactEmail.value)):(e.preventDefault(),contactPopup.classList.remove("modal-error"),contactPopup.offsetWidth,contactPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&contactPopup.classList.contains("modal-show")&&(e.preventDefault(),contactPopup.classList.remove("modal-show"),contactPopup.classList.remove("modal-error"))});var mapPopupButton=document.querySelector(".map-popup-btn"),mapPopup=document.querySelector(".modal-map"),closeMapPopup=mapPopup.querySelector(".close-modal");mapPopupButton.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),closeMapPopup.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&mapPopup.classList.contains("modal-show")&&mapPopup.classList.remove("modal-show")});var sliderControlDots=document.querySelector(".promo-slider-control"),controlDots=sliderControlDots.querySelectorAll(".slider-control-btn"),sliderWrapper=document.querySelector(".promo-slider"),promoSlides=sliderWrapper.querySelectorAll(".promo-slider-item"),deleteCurrentDot=function(){for(var e=0;e<controlDots.length;e++){var t=controlDots[e];t.classList.contains("current")&&t.classList.remove("current")}},deleteCurrentSlide=function(){for(var e=0;e<promoSlides.length;e++){var t=promoSlides[e];t.classList.contains("promo-slider-item-current")&&t.classList.remove("promo-slider-item-current")}},listener=function(e){var t=controlDots[e],o=promoSlides[e];t.addEventListener("click",function(){deleteCurrentDot(),deleteCurrentSlide(),t.classList.add("current"),o.classList.add("promo-slider-item-current")})},putListener=function(){for(var e=0;e<controlDots.length;e++)listener(e)};putListener();var sliderControl=document.querySelector(".services-slider-control"),controlButtons=sliderControl.querySelectorAll(".button"),sliderContainer=document.querySelector(".services-slider"),slides=sliderContainer.querySelectorAll(".services-slider-item"),removeCurrentButton=function(){for(var e=0;e<controlButtons.length;e++){var t=controlButtons[e];t.classList.contains("current")&&t.classList.remove("current")}},removeCurrentSlide=function(){for(var e=0;e<slides.length;e++){var t=slides[e];t.classList.contains("services-slider-current")&&t.classList.remove("services-slider-current")}},createListener=function(e){var t=controlButtons[e],o=slides[e];t.addEventListener("click",function(){removeCurrentButton(),removeCurrentSlide(),t.classList.add("current"),o.classList.add("services-slider-current")})},addListener=function(){for(var e=0;e<controlButtons.length;e++)createListener(e)};addListener();
